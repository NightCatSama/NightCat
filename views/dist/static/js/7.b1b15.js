webpackJsonp([7,13],{19:function(e,t,i){e.exports={default:i(33),__esModule:!0}},33:function(e,t,i){i(43),i(38),e.exports=i(11).Array.from},35:function(e,t,i){"use strict";var s=i(22),n=i(36);e.exports=function(e,t,i){t in e?s.f(e,t,n(0,i)):e[t]=i}},38:function(e,t,i){"use strict";var s=i(29),n=i(21),r=i(37),o=i(59),a=i(57),h=i(51),c=i(35),u=i(52);n(n.S+n.F*!i(60)(function(e){Array.from(e)}),"Array",{from:function(e){var t,i,n,l,f=r(e),g="function"==typeof this?this:Array,d=arguments.length,v=d>1?arguments[1]:void 0,p=void 0!==v,A=0,y=u(f);if(p&&(v=s(v,d>2?arguments[2]:void 0,2)),void 0==y||g==Array&&a(y))for(t=h(f.length),i=new g(t);t>A;A++)c(i,A,p?v(f[A],A):f[A]);else for(l=y.call(f),i=new g;!(n=l.next()).done;A++)c(i,A,p?o(l,v,[n.value,A],!0):n.value);return i.length=A,i}})},157:function(e,t){e.exports="data:image/png;base64,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"},295:function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(19),r=s(n),o=i(31),a=s(o),h=i(4),c=s(h),u=i(5),l=s(u),f={size:void 0,shrink:5,color:["#000","#FFF"],cb:null,bg_texture:i(157)},g=function(){function e(t,i){(0,c.default)(this,e),(0,a.default)(this,f,i),this.checkerboard=t,this.cxt=this.checkerboard.getContext("2d"),this.size=this.size||this.checkerboard.offsetWidth,console.log(this.size),this.gap=this.size/15,this.ignores=[],this.getMousePos=this.getMousePos.bind(this),this.bindEvent(),this.init()}return(0,l.default)(e,[{key:"bindEvent",value:function(){this.checkerboard.addEventListener("click",this.getMousePos)}},{key:"unbindEvent",value:function(){this.checkerboard.removeEventListener("click",this.getMousePos)}},{key:"init",value:function(){this.cxt.clearRect(0,0,this.size,this.size),this.initSize(),this.player=0,this.piece_count=0,this.over=!1,this.pieces=[],this.pieces0=[],this.pieces1=[],this.setBg()}},{key:"initSize",value:function(){this.checkerboard.width=this.size,this.checkerboard.height=this.size}},{key:"setBg",value:function(){var e=this;this.cxt.clearRect(0,0,this.size,this.size),this.image=new Image,this.image.onload=function(){e.cxt.fillStyle=e.cxt.createPattern(e.image,"repeat"),e.cxt.fillRect(0,0,e.size,e.size),e.createGridding()},this.image.src=this.bg_texture}},{key:"createGridding",value:function(){this.cxt.strokeStyle="#000",this.cxt.lineWidth=1;for(var e=0;e<15;e++)this.cxt.moveTo(e*this.gap+this.gap/2,this.gap/2),this.cxt.lineTo(e*this.gap+this.gap/2,this.size-this.gap/2),this.cxt.moveTo(this.gap/2,e*this.gap+this.gap/2),this.cxt.lineTo(this.size-this.gap/2,e*this.gap+this.gap/2),this.cxt.stroke()}},{key:"getMousePos",value:function(e){if(this.over)return this.init();var t=this.checkerboard.getBoundingClientRect(),i=e.clientX-t.left,s=e.clientY-t.top;this.checked(~~(i/this.gap),~~(s/this.gap))}},{key:"callback",value:function(e){this.cb&&this.cb(e)}},{key:"checked",value:function(e,t){var i=this,s=this.getIndex(e,t);return!(this.pieces.indexOf(s)>-1)&&(this.pieces.push(s),this["pieces"+this.player].push(s),this.createPiece(e,t,s),this.isWin(s),this.over?setTimeout(function(){return i.callback(i.player)}):(this.player=+!this.player,this.piece_count++,225===this.piece_count?setTimeout(function(){return i.callback()}):void 0))}},{key:"createPiece",value:function(e,t,i){this.cxt.fillStyle=this.color[this.player],this.cxt.shadowColor="#000",this.cxt.shadowBlur=5,this.cxt.beginPath(),this.cxt.arc(e*this.gap+this.gap/2,t*this.gap+this.gap/2,(this.gap-this.shrink)/2,0,2*Math.PI,!0),this.cxt.closePath(),this.cxt.fill()}},{key:"isWin",value:function(e){var t={s:[e],h:[e],t:[e],d:[e]};this.typeLine=this.createTypeLine(e),this.setLines(e,t);for(var i in t)t[i].length>=5&&(this.over=!0);this.ignores=[]}},{key:"setLines",value:function(e,t,i){var s=this,n=this.getIndexs(e,i);(0,r.default)(n,function(i){var n=s.getType(e,i);t[n].push(i),s.setLines(i,t,n)})}},{key:"getIndexs",value:function(e,t){var i=this;this.ignores.push(e);var s=e%15,n=~~(e/15),o=[s-1,s,s+1],a=[n-1,n,n+1],h=[];return(0,r.default)(o,function(e){(0,r.default)(a,function(s){if(!(e<0||s<0)){var n=15*s+e;i.isEnable(n,t)&&h.push(n)}})}),h}},{key:"isEnable",value:function(e,t){return!(this.ignores.indexOf(e)>-1)&&((!t||this.typeLine[t].indexOf(e)!==-1)&&(this.ignores.push(e),this["pieces"+this.player].indexOf(e)>-1))}},{key:"createTypeLine",value:function(e){var t={s:15,h:1,d:16,t:14},i={s:[e],h:[e],t:[e],d:[e]},s=this.getXY(e),n=s.x,r=s.y;for(var o in t)i[o]=this.getOneTypeLine(o,n,r);return i}},{key:"getOneTypeLine",value:function(e,t,i){for(var s=[],n=t,r=i;t>=0&&i>=0&&t<=14&&i<=14;)switch(s.push(this.getIndex(t,i)),e){case"s":i+=1;break;case"h":t+=1;break;case"d":t+=1,i+=1;break;case"t":t+=1,i-=1}for(t=n,i=r;t>=0&&i>=0&&t<=14&&i<=14;)switch(s.push(this.getIndex(t,i)),e){case"s":i-=1;break;case"h":t-=1;break;case"d":t-=1,i-=1;break;case"t":t-=1,i+=1}return s.slice(1)}},{key:"getType",value:function(e,t){var i={15:"s",1:"h",16:"d",14:"t"};return i[Math.abs(e-t)]}},{key:"getXY",value:function(e){return{x:e%15,y:~~(e/15)}}},{key:"getIndex",value:function(e,t){return 15*t+e}}]),e}();t.default=g},296:function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(7),r=s(n),o=i(4),a=s(o),h=i(5),c=s(h),u=i(9),l=s(u),f=i(8),g=s(f),d=i(2),v=s(d),p=i(295),A=s(p);i(391);var y=i(17),m=i(15),x=i(18),k=s(x),C=function(e){function t(e){(0,a.default)(this,t);var i=(0,l.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return i.state={msg:""},i}return(0,g.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=document.querySelector(".main").offsetWidth,i=new A.default(this.checkerboard,{size:t,cb:this.gameover.bind(this)}),s=i.player;Object.defineProperty(i,"player",{get:function(){return s},set:function(t){e.changePlayer(t),s=t},enumerable:!0,configurable:!0})}},{key:"changePlayer",value:function(e){this.setState({msg:"当前玩家："+(e?"白棋":"黑旗")})}},{key:"gameover",value:function(e){this.setState({msg:void 0===e?"和棋":(e?"白":"黑")+"棋获得了胜利!"}),alert((e?"白":"黑")+"棋获得了胜利!")}},{key:"render",value:function(){var e=this;return v.default.createElement("div",{ref:"view",className:"template-view"},v.default.createElement("div",{className:"main"},v.default.createElement("div",{className:"msg"},this.state.msg),v.default.createElement("canvas",{ref:function(t){return e.checkerboard=t}})))}}]),t}(d.Component),b=function(e){return{store:e}},E=function(e){return{actions:(0,m.bindActionCreators)(k.default,e)}};t.default=(0,y.connect)(b,E)(C),C.propTypes={actions:d.PropTypes.object}},367:function(e,t,i){t=e.exports=i(13)(),t.push([e.id,".template-view{min-height:100vh;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.template-view .main{width:60%;max-width:600px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative}@media (max-width:768px){.template-view .main{width:95%;min-width:auto}}.template-view .msg{position:absolute;left:50%;top:-30px;-webkit-transform:translateX(-50%);transform:translateX(-50%);font-size:20px;font-weight:700}.template-view canvas{width:100%;border:1px solid #ccc;box-shadow:10px 10px 20px 0 rgba(0,0,0,.2)}",""])},391:function(e,t,i){var s=i(367);"string"==typeof s&&(s=[[e.id,s,""]]);i(14)(s,{});s.locals&&(e.exports=s.locals)}});